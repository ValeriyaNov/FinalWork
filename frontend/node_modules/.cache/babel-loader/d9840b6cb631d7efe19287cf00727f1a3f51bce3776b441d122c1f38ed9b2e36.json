{"ast":null,"code":"import { AXIOS } from \"../../http-common\";\nexport default {\n  name: 'ModalComponent',\n  props: {\n    standardChose: {},\n    typeModal: {\n      type: String,\n      default: 'standard'\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    scrollable: {\n      type: Boolean,\n      default: false\n    },\n    headerId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    bodyId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    modalClass: {\n      type: String,\n      default: 'simple-modal'\n    }\n  },\n  data() {\n    return {\n      standard: {\n        id: '',\n        title: '',\n        designation: '',\n        cipher: ''\n      },\n      expertise: {\n        tk: '',\n        startTime: '',\n        finalTime: '',\n        type: '',\n        status: ''\n      },\n      url: ''\n    };\n  },\n  mounted() {\n    window.addEventListener('keydown', this.escCloseModal);\n  },\n  destroy() {\n    window.removeEventListener('keydown', this.escCloseModal);\n  },\n  methods: {\n    closeModal() {\n      this.$emit('close');\n      //this.generateUrl();\n    },\n    escCloseModal(e) {\n      if (this.show && e.key === 'Escape') {\n        this.closeModal();\n      }\n    },\n    submitForm() {\n      // let item = '';\n      // if (flag==='st'){\n      //   item = this.standard;\n      // }\n      // else{\n      //   item = this.expertise;\n      // }\n      AXIOS.put(this.url, this.standard).then(response => {\n        console.log(response.data);\n        // дальнейшая обработка ответа\n      }).catch(error => {\n        console.error(error);\n        // обработка ошибок\n      });\n    },\n    generateUrl() {\n      let array = document.querySelectorAll('input');\n      this.standard.title = array[1].value;\n      this.standard.designation = array[2].value;\n      this.standard.cipher = array[3].value;\n      let form = document.querySelector('form');\n      this.standard.id = form.id;\n      this.url = '/standards/' + this.standard.id;\n    },\n    generateUrlE() {\n      let array = document.querySelectorAll('input');\n      this.expertise.tk = array[1].value;\n      this.expertise.finalTime = array[2].value;\n      this.expertise.type = array[3].value;\n      let form = document.querySelector('form');\n      this.expertise.id = form.id;\n      let oldStandard = this.standardChose.findIndex(p => p.id === this.expertise.id);\n      this.expertise.status = oldStandard.status;\n      this.expertise.startTime = oldStandard.startTime;\n      this.url = '/exspertises/' + this.expertise.id;\n    }\n  }\n};","map":{"version":3,"names":["AXIOS","name","props","standardChose","typeModal","type","String","default","show","Boolean","scrollable","headerId","required","bodyId","modalClass","data","standard","id","title","designation","cipher","expertise","tk","startTime","finalTime","status","url","mounted","window","addEventListener","escCloseModal","destroy","removeEventListener","methods","closeModal","$emit","e","key","submitForm","put","then","response","console","log","catch","error","generateUrl","array","document","querySelectorAll","value","form","querySelector","generateUrlE","oldStandard","findIndex","p"],"sources":["src/components/ModalComponent.vue"],"sourcesContent":["<template>\r\n  <transition :name=\"modalClass\">\r\n    <div :class=\"modalClass\">\r\n      <div\r\n          :class=\"`${modalClass}-backdrop`\"\r\n          @click=\"closeModal\"\r\n      >\r\n        <div :class=\"[{'simple-modal-scrollable': scrollable}, `${modalClass}-container`]\">\r\n          <div\r\n              :class=\"`${modalClass}-content`\"\r\n              role=\"dialog\"\r\n              :aria-labelledby=\"headerId\"\r\n              :aria-describedby=\"bodyId\"\r\n              @click.stop\r\n          >\r\n            <header\r\n                :id=\"headerId\"\r\n                :class=\"`${modalClass}-header`\"\r\n            >\r\n              <slot\r\n                  :id=\"bodyId\"\r\n                  name=\"header\"\r\n              >\r\n                Редактирование документа\r\n              </slot>\r\n            </header>\r\n            <section :class=\"`${modalClass}-body`\">\r\n              <slot name=\"body\">\r\n<!--                <div v-if=\"typeModal==='standard'\">-->\r\n                  <form  class=\"fon\" @submit.prevent=\"submitForm\" :id=\"standardChose.id\">\r\n                    <input type=\"text\" name=\"title\" :value='standardChose.title' onchange=\"generateUrl()\">\r\n                    <input name=\"designation\" :value=standardChose.designation >\r\n                    <input name=\"cipher\" :value=standardChose.cipher >\r\n                    <p>{{url}}</p>\r\n                    <p>{{standard}}</p>\r\n                    <input :class=\"`${modalClass}-footer`\"\r\n                           type=\"submit\"\r\n                           @click=\"closeModal()\"\r\n                           value=\"Сохранить\"\r\n                    >\r\n                  </form>\r\n<!--                </div>-->\r\n\r\n<!--                <form v-if=\"typeModal==='expertise'\" class=\"fon\" @submit.prevent=\"submitForm('ex')\" :id=\"standardChose.id\">-->\r\n<!--                  <input type=\"text\" name=\"tk\" :value='standardChose.tk' onchange=\"generateUrlE()\">-->\r\n<!--                  <input name=\"finalTime\" :value=standardChose.finalTime >-->\r\n<!--                  <input name=\"type\" :value=standardChose.type >-->\r\n<!--                  <input name=\"status\" :value=standardChose.status >-->\r\n\r\n\r\n<!--                  <input :class=\"`${modalClass}-footer`\"-->\r\n<!--                         type=\"submit\"-->\r\n<!--                         @click=\"closeModal()\"-->\r\n<!--                         value=\"save\"-->\r\n<!--                  >-->\r\n<!--                </form>-->\r\n              </slot>\r\n            </section>\r\n<!--            <footer :class=\"`${modalClass}-footer`\">-->\r\n<!--              <slot name=\"footer\" />-->\r\n<!--              <button-->\r\n<!--                  type=\"submit\"-->\r\n<!--                  @click=\"closeModal\"-->\r\n<!--              >-->\r\n<!--                Сохранить-->\r\n<!--              </button>-->\r\n<!--            </footer>-->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport {AXIOS} from \"../../http-common\";\r\n\r\nexport default {\r\n  name: 'ModalComponent',\r\n  props: {\r\n    standardChose:{\r\n    },\r\n    typeModal:{\r\n      type:String,\r\n      default:'standard'\r\n    },\r\n  show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    scrollable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    headerId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    bodyId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    modalClass: {\r\n      type: String,\r\n      default: 'simple-modal',\r\n    }\r\n    },\r\n\r\n  data(){\r\n    return{\r\n      standard:{\r\n        id:'',\r\n        title:'',\r\n        designation:'',\r\n        cipher:''\r\n      },\r\n      expertise:{\r\n        tk:'',\r\n        startTime:'',\r\n        finalTime:'',\r\n        type:'',\r\n        status:''\r\n      },\r\n      url:''\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener('keydown', this.escCloseModal);\r\n\r\n  },\r\n  destroy() {\r\n    window.removeEventListener('keydown', this.escCloseModal);\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close');\r\n      //this.generateUrl();\r\n    },\r\n    escCloseModal(e) {\r\n      if (this.show && e.key === 'Escape') {\r\n        this.closeModal();\r\n      }\r\n    },\r\n    submitForm() {\r\n      // let item = '';\r\n      // if (flag==='st'){\r\n      //   item = this.standard;\r\n      // }\r\n      // else{\r\n      //   item = this.expertise;\r\n      // }\r\n      AXIOS.put(this.url, this.standard)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            // дальнейшая обработка ответа\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            // обработка ошибок\r\n          })\r\n    },\r\n    generateUrl(){\r\n      let array = document.querySelectorAll('input');\r\n      this.standard.title = array[1].value;\r\n      this.standard.designation = array[2].value;\r\n      this.standard.cipher = array[3].value;\r\n      let form = document.querySelector('form');\r\n      this.standard.id = form.id;\r\n      this.url = '/standards/' + this.standard.id;\r\n    },\r\n    generateUrlE(){\r\n      let array = document.querySelectorAll('input');\r\n      this.expertise.tk = array[1].value;\r\n      this.expertise.finalTime = array[2].value;\r\n      this.expertise.type = array[3].value;\r\n      let form = document.querySelector('form');\r\n      this.expertise.id = form.id;\r\n      let oldStandard = this.standardChose.findIndex(p => p.id === this.expertise.id);\r\n      this.expertise.status = oldStandard.status;\r\n      this.expertise.startTime = oldStandard.startTime;\r\n      this.url = '/exspertises/' + this.expertise.id;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.simple-modal {\r\n  &-backdrop {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    transition: opacity 0.3s ease;\r\n    z-index: 9999;\r\n  }\r\n\r\n  &-container {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: auto;\r\n    margin: 16px;\r\n  }\r\n\r\n  &-scrollable {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  &-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 1.75rem auto;\r\n    padding: 20px 30px;\r\n    border-radius: 5px;\r\n    color: #000;\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n    transform: translate(0, 0);\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  &-header {\r\n    padding-bottom: 16px;\r\n    font-size: 25px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-footer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    height: 80px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-enter,\r\n  &-leave-to {\r\n    opacity: 0;\r\n  }\r\n\r\n  &-enter-active,\r\n  &-leave-active {\r\n    transition: opacity 0.2s ease;\r\n  }\r\n}\r\n</style>"],"mappings":"AA2EA,SAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,aAAA,GACA;IACAC,SAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,UAAA;MACAL,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAI,QAAA;MACAN,IAAA,EAAAC,MAAA;MACAM,QAAA;MACAL,OAAA;IACA;IACAM,MAAA;MACAR,IAAA,EAAAC,MAAA;MACAM,QAAA;MACAL,OAAA;IACA;IACAO,UAAA;MACAT,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAQ,KAAA;IACA;MACAC,QAAA;QACAC,EAAA;QACAC,KAAA;QACAC,WAAA;QACAC,MAAA;MACA;MACAC,SAAA;QACAC,EAAA;QACAC,SAAA;QACAC,SAAA;QACAnB,IAAA;QACAoB,MAAA;MACA;MACAC,GAAA;IACA;EACA;EAEAC,QAAA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,aAAA;EAEA;EACAC,QAAA;IACAH,MAAA,CAAAI,mBAAA,iBAAAF,aAAA;EACA;EACAG,OAAA;IACAC,WAAA;MACA,KAAAC,KAAA;MACA;IACA;IACAL,cAAAM,CAAA;MACA,SAAA5B,IAAA,IAAA4B,CAAA,CAAAC,GAAA;QACA,KAAAH,UAAA;MACA;IACA;IACAI,WAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAtC,KAAA,CAAAuC,GAAA,MAAAb,GAAA,OAAAV,QAAA,EACAwB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAA1B,IAAA;QACA;MACA,GACA6B,KAAA,CAAAC,KAAA;QACAH,OAAA,CAAAG,KAAA,CAAAA,KAAA;QACA;MACA;IACA;IACAC,YAAA;MACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,gBAAA;MACA,KAAAjC,QAAA,CAAAE,KAAA,GAAA6B,KAAA,IAAAG,KAAA;MACA,KAAAlC,QAAA,CAAAG,WAAA,GAAA4B,KAAA,IAAAG,KAAA;MACA,KAAAlC,QAAA,CAAAI,MAAA,GAAA2B,KAAA,IAAAG,KAAA;MACA,IAAAC,IAAA,GAAAH,QAAA,CAAAI,aAAA;MACA,KAAApC,QAAA,CAAAC,EAAA,GAAAkC,IAAA,CAAAlC,EAAA;MACA,KAAAS,GAAA,wBAAAV,QAAA,CAAAC,EAAA;IACA;IACAoC,aAAA;MACA,IAAAN,KAAA,GAAAC,QAAA,CAAAC,gBAAA;MACA,KAAA5B,SAAA,CAAAC,EAAA,GAAAyB,KAAA,IAAAG,KAAA;MACA,KAAA7B,SAAA,CAAAG,SAAA,GAAAuB,KAAA,IAAAG,KAAA;MACA,KAAA7B,SAAA,CAAAhB,IAAA,GAAA0C,KAAA,IAAAG,KAAA;MACA,IAAAC,IAAA,GAAAH,QAAA,CAAAI,aAAA;MACA,KAAA/B,SAAA,CAAAJ,EAAA,GAAAkC,IAAA,CAAAlC,EAAA;MACA,IAAAqC,WAAA,QAAAnD,aAAA,CAAAoD,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAvC,EAAA,UAAAI,SAAA,CAAAJ,EAAA;MACA,KAAAI,SAAA,CAAAI,MAAA,GAAA6B,WAAA,CAAA7B,MAAA;MACA,KAAAJ,SAAA,CAAAE,SAAA,GAAA+B,WAAA,CAAA/B,SAAA;MACA,KAAAG,GAAA,0BAAAL,SAAA,CAAAJ,EAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}