{"ast":null,"code":"import { AXIOS } from \"../../http-common\";\nexport default {\n  name: 'ModalComponent',\n  props: {\n    standardChose: {},\n    show: {\n      type: Boolean,\n      default: false\n    },\n    scrollable: {\n      type: Boolean,\n      default: false\n    },\n    headerId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    bodyId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    modalClass: {\n      type: String,\n      default: 'simple-modal'\n    }\n  },\n  data() {\n    return {\n      standard: {\n        id: '',\n        title: '',\n        designation: '',\n        cipher: ''\n      },\n      url: ''\n    };\n  },\n  mounted() {\n    window.addEventListener('keydown', this.escCloseModal);\n    //this.standard=\n    //et title = document.getElementsByName(\"title\");\n    //title.value = this.standardChose.title\n  },\n  destroy() {\n    window.removeEventListener('keydown', this.escCloseModal);\n  },\n  methods: {\n    closeModal() {\n      this.$emit('close');\n      //this.generateUrl();\n    },\n    escCloseModal(e) {\n      if (this.show && e.key === 'Escape') {\n        this.closeModal();\n      }\n    },\n    submitForm() {\n      AXIOS.put(this.url, this.standard).then(response => {\n        console.log(response.data);\n        // дальнейшая обработка ответа\n      }).catch(error => {\n        console.error(error);\n        // обработка ошибок\n      });\n    },\n    generateUrl() {\n      let array = document.querySelectorAll('input');\n      this.standard.title = array[0].value;\n      //this.standard.title = 'hhhh';\n      // let designation = document.getElementsByName('designation');\n      // this.standard.designation = designation.value;\n      // let cipher = document.getElementsByName('cipher');\n      // this.standard.cipher = cipher.value;\n      // let form = document.querySelector(form);\n      // this.standard.id = form.id;\n      // this.url = '/standards/standard/' + this.standard.id;\n    }\n  }\n};","map":{"version":3,"names":["AXIOS","name","props","standardChose","show","type","Boolean","default","scrollable","headerId","String","required","bodyId","modalClass","data","standard","id","title","designation","cipher","url","mounted","window","addEventListener","escCloseModal","destroy","removeEventListener","methods","closeModal","$emit","e","key","submitForm","put","then","response","console","log","catch","error","generateUrl","array","document","querySelectorAll","value"],"sources":["src/components/ModalComponent.vue"],"sourcesContent":["<template>\r\n  <transition :name=\"modalClass\">\r\n    <div :class=\"modalClass\">\r\n      <div\r\n          :class=\"`${modalClass}-backdrop`\"\r\n          @click=\"closeModal\"\r\n      >\r\n        <div :class=\"[{'simple-modal-scrollable': scrollable}, `${modalClass}-container`]\">\r\n          <div\r\n              :class=\"`${modalClass}-content`\"\r\n              role=\"dialog\"\r\n              :aria-labelledby=\"headerId\"\r\n              :aria-describedby=\"bodyId\"\r\n              @click.stop\r\n          >\r\n            <header\r\n                :id=\"headerId\"\r\n                :class=\"`${modalClass}-header`\"\r\n            >\r\n              <slot\r\n                  :id=\"bodyId\"\r\n                  name=\"header\"\r\n              >\r\n                Редактирование стандарта\r\n              </slot>\r\n            </header>\r\n            <section :class=\"`${modalClass}-body`\">\r\n              <slot name=\"body\">\r\n                <form class=\"fon\" @submit.prevent=\"submitForm\" :id=\"standardChose.id\">\r\n                  <input type=\"text\" name=\"title\" :value='standardChose.title'>\r\n                  <input name=\"designation\" :value=standardChose.designation >\r\n                  <input name=\"cipher\" :value=standardChose.cipher >\r\n                  <button @click=\"generateUrl\"> Vtyznm</button>\r\n                  <p>{{standard}}</p>\r\n                </form>\r\n              </slot>\r\n            </section>\r\n            <footer :class=\"`${modalClass}-footer`\">\r\n              <slot name=\"footer\" />\r\n              <button\r\n                  type=\"submit\"\r\n                  @click=\"closeModal\"\r\n              >\r\n                Сохранить\r\n              </button>\r\n            </footer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport {AXIOS} from \"../../http-common\";\r\n\r\nexport default {\r\n  name: 'ModalComponent',\r\n  props: {\r\n    standardChose:{\r\n    },\r\n  show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    scrollable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    headerId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    bodyId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    modalClass: {\r\n      type: String,\r\n      default: 'simple-modal',\r\n    }\r\n    },\r\n\r\n  data(){\r\n    return{\r\n      standard:{\r\n        id:'',\r\n        title:'',\r\n        designation:'',\r\n        cipher:''\r\n      },\r\n      url:''\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener('keydown', this.escCloseModal);\r\n    //this.standard=\r\n    //et title = document.getElementsByName(\"title\");\r\n    //title.value = this.standardChose.title\r\n\r\n  },\r\n  destroy() {\r\n    window.removeEventListener('keydown', this.escCloseModal);\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close');\r\n      //this.generateUrl();\r\n    },\r\n    escCloseModal(e) {\r\n      if (this.show && e.key === 'Escape') {\r\n        this.closeModal();\r\n      }\r\n    },\r\n    submitForm() {\r\n      AXIOS.put(this.url, this.standard)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            // дальнейшая обработка ответа\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            // обработка ошибок\r\n          })\r\n    },\r\n    generateUrl(){\r\n      let array = document.querySelectorAll('input');\r\n      this.standard.title = array[0].value;\r\n      //this.standard.title = 'hhhh';\r\n      // let designation = document.getElementsByName('designation');\r\n      // this.standard.designation = designation.value;\r\n      // let cipher = document.getElementsByName('cipher');\r\n      // this.standard.cipher = cipher.value;\r\n      // let form = document.querySelector(form);\r\n      // this.standard.id = form.id;\r\n      // this.url = '/standards/standard/' + this.standard.id;\r\n\r\n\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.simple-modal {\r\n  &-backdrop {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    transition: opacity 0.3s ease;\r\n    z-index: 9999;\r\n  }\r\n\r\n  &-container {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: auto;\r\n    margin: 16px;\r\n  }\r\n\r\n  &-scrollable {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  &-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 1.75rem auto;\r\n    padding: 20px 30px;\r\n    border-radius: 5px;\r\n    color: #000;\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n    transform: translate(0, 0);\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  &-header {\r\n    padding-bottom: 16px;\r\n    font-size: 25px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-footer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    height: 80px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-enter,\r\n  &-leave-to {\r\n    opacity: 0;\r\n  }\r\n\r\n  &-enter-active,\r\n  &-leave-active {\r\n    transition: opacity 0.2s ease;\r\n  }\r\n}\r\n</style>"],"mappings":"AAsDA,SAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,aAAA,GACA;IACAC,IAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,UAAA;MACAH,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAE,QAAA;MACAJ,IAAA,EAAAK,MAAA;MACAC,QAAA;MACAJ,OAAA;IACA;IACAK,MAAA;MACAP,IAAA,EAAAK,MAAA;MACAC,QAAA;MACAJ,OAAA;IACA;IACAM,UAAA;MACAR,IAAA,EAAAK,MAAA;MACAH,OAAA;IACA;EACA;EAEAO,KAAA;IACA;MACAC,QAAA;QACAC,EAAA;QACAC,KAAA;QACAC,WAAA;QACAC,MAAA;MACA;MACAC,GAAA;IACA;EACA;EAEAC,QAAA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,aAAA;IACA;IACA;IACA;EAEA;EACAC,QAAA;IACAH,MAAA,CAAAI,mBAAA,iBAAAF,aAAA;EACA;EACAG,OAAA;IACAC,WAAA;MACA,KAAAC,KAAA;MACA;IACA;IACAL,cAAAM,CAAA;MACA,SAAA1B,IAAA,IAAA0B,CAAA,CAAAC,GAAA;QACA,KAAAH,UAAA;MACA;IACA;IACAI,WAAA;MACAhC,KAAA,CAAAiC,GAAA,MAAAb,GAAA,OAAAL,QAAA,EACAmB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAArB,IAAA;QACA;MACA,GACAwB,KAAA,CAAAC,KAAA;QACAH,OAAA,CAAAG,KAAA,CAAAA,KAAA;QACA;MACA;IACA;IACAC,YAAA;MACA,IAAAC,KAAA,GAAAC,QAAA,CAAAC,gBAAA;MACA,KAAA5B,QAAA,CAAAE,KAAA,GAAAwB,KAAA,IAAAG,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAIA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}