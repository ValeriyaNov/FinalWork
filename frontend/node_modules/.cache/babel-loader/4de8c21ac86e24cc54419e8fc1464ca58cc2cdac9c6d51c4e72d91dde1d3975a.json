{"ast":null,"code":"import { AXIOS } from \"../../http-common\";\nexport default {\n  name: 'ModalComponent',\n  props: {\n    standardChose: {},\n    typeModal: {\n      type: String,\n      default: 'standard'\n    },\n    show: {\n      type: Boolean,\n      default: false\n    },\n    scrollable: {\n      type: Boolean,\n      default: false\n    },\n    headerId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    bodyId: {\n      type: String,\n      required: true,\n      default: null\n    },\n    modalClass: {\n      type: String,\n      default: 'simple-modal'\n    }\n  },\n  data() {\n    return {\n      standard: {\n        id: '',\n        title: '',\n        designation: '',\n        cipher: ''\n      },\n      expertise: {\n        id: '',\n        tk: '',\n        startTime: '',\n        finalTime: '',\n        type: '',\n        status: ''\n      },\n      url: '',\n      test: ''\n    };\n  },\n  mounted() {\n    window.addEventListener('keydown', this.escCloseModal);\n  },\n  destroy() {\n    window.removeEventListener('keydown', this.escCloseModal);\n  },\n  methods: {\n    closeModal() {\n      this.$emit('close');\n      this.generateUrl();\n    },\n    escCloseModal(e) {\n      if (this.show && e.key === 'Escape') {\n        this.closeModal();\n      }\n    },\n    submitForm(flag) {\n      let item = '';\n      if (flag === 'st') {\n        item = this.standard;\n      } else {\n        item = this.expertise;\n      }\n      AXIOS.put(this.url, item).then(response => {\n        console.log(response.data);\n        // дальнейшая обработка ответа\n      }).catch(error => {\n        console.error(error);\n        // обработка ошибок\n      });\n    },\n    generateUrl() {\n      if (this.typeModal === 'standard') {\n        let array = document.querySelectorAll('input');\n        this.standard.title = array[1].value;\n        this.standard.designation = array[2].value;\n        this.standard.cipher = array[3].value;\n        let form = document.querySelector('form');\n        this.standard.id = form.id;\n        this.url = '/standards/' + this.standard.id;\n      } else {\n        let array = document.querySelectorAll('input');\n        this.expertise.tk = array[1].value;\n        this.expertise.finalTime = array[2].value;\n        this.expertise.type = array[3].value;\n        this.expertise.status = array[4].value;\n        let form = document.querySelector('form');\n        this.expertise.id = form.id;\n        this.expertise.startTime = this.standardChose.startTime;\n        this.url = '/exspertises/' + this.expertise.id;\n      }\n    }\n  }\n};","map":{"version":3,"names":["AXIOS","name","props","standardChose","typeModal","type","String","default","show","Boolean","scrollable","headerId","required","bodyId","modalClass","data","standard","id","title","designation","cipher","expertise","tk","startTime","finalTime","status","url","test","mounted","window","addEventListener","escCloseModal","destroy","removeEventListener","methods","closeModal","$emit","generateUrl","e","key","submitForm","flag","item","put","then","response","console","log","catch","error","array","document","querySelectorAll","value","form","querySelector"],"sources":["src/components/ModalComponent.vue"],"sourcesContent":["<template>\r\n  <transition :name=\"modalClass\">\r\n    <div :class=\"modalClass\">\r\n      <div\r\n          :class=\"`${modalClass}-backdrop`\"\r\n          @click=\"closeModal\"\r\n      >\r\n        <div :class=\"[{'simple-modal-scrollable': scrollable}, `${modalClass}-container`]\">\r\n          <div\r\n              :class=\"`${modalClass}-content`\"\r\n              role=\"dialog\"\r\n              :aria-labelledby=\"headerId\"\r\n              :aria-describedby=\"bodyId\"\r\n              @click.stop\r\n          >\r\n            <header\r\n                :id=\"headerId\"\r\n                :class=\"`${modalClass}-header`\"\r\n            >\r\n              <slot\r\n                  :id=\"bodyId\"\r\n                  name=\"header\"\r\n              >\r\n                Редактирование документа\r\n              </slot>\r\n            </header>\r\n            <section :class=\"`${modalClass}-body`\">\r\n              <slot name=\"body\">\r\n                <div v-if=\"typeModal==='standard'\">\r\n                  <form  class=\"fon\" @submit.prevent=\"submitForm('st')\" :id=\"standardChose.id\">\r\n                    <input type=\"text\" name=\"title\" :value='standardChose.title'>\r\n                    <input name=\"designation\" :value=standardChose.designation >\r\n                    <input name=\"cipher\" :value=standardChose.cipher >\r\n\r\n                    <input :class=\"`${modalClass}-footer`\"\r\n                           type=\"submit\"\r\n                           @click=\"closeModal()\"\r\n                           value=\"Сохранить\"\r\n                    >\r\n                  </form>\r\n                </div>\r\n\r\n                <form v-if=\"typeModal==='expertise'\" class=\"fon form\" @submit.prevent=\"submitForm('ex')\" :id=\"standardChose.id\">\r\n                  <input  class= 'form__item' type=\"text\" name=\"tk\" :value='standardChose.tk'>\r\n                  <input class= 'form__item' name=\"finalTime\" :value=standardChose.finalTime >\r\n                  <input class= 'form__item' name=\"type\" :value=standardChose.type >\r\n                  <input class= 'form__item' name=\"status\" :value=standardChose.status >\r\n<!--                  <p> url{{url}}</p>-->\r\n<!--                  <p>{{expertise}}</p>-->\r\n<!--                  <p> tect{{test}}</p>-->\r\n<!--                  <button type=\"button\" @click=\"generateUrl()\">rjjjj</button>-->\r\n                  <input :class=\"`${modalClass}-footer`\"\r\n                         type=\"submit\"\r\n                         @click=\"closeModal()\"\r\n                         value=\"save\"\r\n                  >\r\n                </form>\r\n              </slot>\r\n            </section>\r\n<!--            <footer :class=\"`${modalClass}-footer`\">-->\r\n<!--              <slot name=\"footer\" />-->\r\n<!--              <button-->\r\n<!--                  type=\"submit\"-->\r\n<!--                  @click=\"closeModal\"-->\r\n<!--              >-->\r\n<!--                Сохранить-->\r\n<!--              </button>-->\r\n<!--            </footer>-->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport {AXIOS} from \"../../http-common\";\r\n\r\nexport default {\r\n  name: 'ModalComponent',\r\n  props: {\r\n    standardChose:{\r\n    },\r\n    typeModal:{\r\n      type:String,\r\n      default:'standard'\r\n    },\r\n  show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    scrollable: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    headerId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    bodyId: {\r\n      type: String,\r\n      required: true,\r\n      default: null,\r\n    },\r\n    modalClass: {\r\n      type: String,\r\n      default: 'simple-modal',\r\n    }\r\n    },\r\n\r\n  data(){\r\n    return{\r\n      standard:{\r\n        id:'',\r\n        title:'',\r\n        designation:'',\r\n        cipher:''\r\n      },\r\n      expertise:{\r\n        id:'',\r\n        tk:'',\r\n        startTime:'',\r\n        finalTime:'',\r\n        type:'',\r\n        status:''\r\n      },\r\n      url:'',\r\n      test:''\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    window.addEventListener('keydown', this.escCloseModal);\r\n\r\n  },\r\n  destroy() {\r\n    window.removeEventListener('keydown', this.escCloseModal);\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.$emit('close');\r\n      this.generateUrl();\r\n    },\r\n    escCloseModal(e) {\r\n      if (this.show && e.key === 'Escape') {\r\n        this.closeModal();\r\n      }\r\n    },\r\n    submitForm(flag) {\r\n      let item = '';\r\n      if (flag==='st'){\r\n        item = this.standard;\r\n      }\r\n      else{\r\n        item = this.expertise;\r\n      }\r\n      AXIOS.put(this.url, item)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            // дальнейшая обработка ответа\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            // обработка ошибок\r\n          })\r\n    },\r\n    generateUrl(){\r\n      if (this.typeModal === 'standard'){\r\n        let array = document.querySelectorAll('input');\r\n        this.standard.title = array[1].value;\r\n        this.standard.designation = array[2].value;\r\n        this.standard.cipher = array[3].value;\r\n        let form = document.querySelector('form');\r\n        this.standard.id = form.id;\r\n        this.url = '/standards/' + this.standard.id;\r\n      }\r\n      else{\r\n        let array = document.querySelectorAll('input');\r\n        this.expertise.tk = array[1].value;\r\n        this.expertise.finalTime = array[2].value;\r\n        this.expertise.type = array[3].value;\r\n        this.expertise.status = array[4].value;\r\n        let form = document.querySelector('form');\r\n        this.expertise.id = form.id;\r\n        this.expertise.startTime = this.standardChose.startTime;\r\n        this.url = '/exspertises/' + this.expertise.id;\r\n      }\r\n    },\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/css-module/_vars.scss\";\r\n.form{\r\n  &__item{\r\n    background: rgba(255,255,255,1);\r\n    border: none;\r\n    border-radius: 4px;\r\n    font-size: 15px;\r\n    margin: 0;\r\n    outline: 0;\r\n    padding: 10px;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    background-color: #e8eeef;\r\n    color:#8a97a0;\r\n    -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;\r\n    box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;\r\n    margin-bottom: 30px;\r\n  }\r\n  &__item:focus{\r\n    background: #d2d9dd;\r\n  }\r\n}\r\n.simple-modal {\r\n  &-backdrop {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.8);\r\n    transition: opacity 0.3s ease;\r\n    z-index: 9999;\r\n  }\r\n\r\n  &-container {\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: auto;\r\n    margin: 16px;\r\n  }\r\n\r\n  &-scrollable {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  &-content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    max-width: 500px;\r\n    margin: 1.75rem auto;\r\n    padding: 20px 30px;\r\n    border-radius: 5px;\r\n    color: #000;\r\n    background-color: #fff;\r\n    box-sizing: border-box;\r\n    transform: translate(0, 0);\r\n    transition: all 0.3s ease;\r\n  }\r\n\r\n  &-header {\r\n    padding-bottom: 16px;\r\n    font-size: 25px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-footer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    height: 80px;\r\n    text-align: center;\r\n  }\r\n\r\n  &-enter,\r\n  &-leave-to {\r\n    opacity: 0;\r\n  }\r\n\r\n  &-enter-active,\r\n  &-leave-active {\r\n    transition: opacity 0.2s ease;\r\n  }\r\n}\r\n</style>"],"mappings":"AA4EA,SAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACAC,aAAA,GACA;IACAC,SAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,IAAA;MACAH,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAG,UAAA;MACAL,IAAA,EAAAI,OAAA;MACAF,OAAA;IACA;IACAI,QAAA;MACAN,IAAA,EAAAC,MAAA;MACAM,QAAA;MACAL,OAAA;IACA;IACAM,MAAA;MACAR,IAAA,EAAAC,MAAA;MACAM,QAAA;MACAL,OAAA;IACA;IACAO,UAAA;MACAT,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EAEAQ,KAAA;IACA;MACAC,QAAA;QACAC,EAAA;QACAC,KAAA;QACAC,WAAA;QACAC,MAAA;MACA;MACAC,SAAA;QACAJ,EAAA;QACAK,EAAA;QACAC,SAAA;QACAC,SAAA;QACAnB,IAAA;QACAoB,MAAA;MACA;MACAC,GAAA;MACAC,IAAA;IACA;EACA;EAEAC,QAAA;IACAC,MAAA,CAAAC,gBAAA,iBAAAC,aAAA;EAEA;EACAC,QAAA;IACAH,MAAA,CAAAI,mBAAA,iBAAAF,aAAA;EACA;EACAG,OAAA;IACAC,WAAA;MACA,KAAAC,KAAA;MACA,KAAAC,WAAA;IACA;IACAN,cAAAO,CAAA;MACA,SAAA9B,IAAA,IAAA8B,CAAA,CAAAC,GAAA;QACA,KAAAJ,UAAA;MACA;IACA;IACAK,WAAAC,IAAA;MACA,IAAAC,IAAA;MACA,IAAAD,IAAA;QACAC,IAAA,QAAA1B,QAAA;MACA,OACA;QACA0B,IAAA,QAAArB,SAAA;MACA;MACArB,KAAA,CAAA2C,GAAA,MAAAjB,GAAA,EAAAgB,IAAA,EACAE,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAA9B,IAAA;QACA;MACA,GACAiC,KAAA,CAAAC,KAAA;QACAH,OAAA,CAAAG,KAAA,CAAAA,KAAA;QACA;MACA;IACA;IACAZ,YAAA;MACA,SAAAjC,SAAA;QACA,IAAA8C,KAAA,GAAAC,QAAA,CAAAC,gBAAA;QACA,KAAApC,QAAA,CAAAE,KAAA,GAAAgC,KAAA,IAAAG,KAAA;QACA,KAAArC,QAAA,CAAAG,WAAA,GAAA+B,KAAA,IAAAG,KAAA;QACA,KAAArC,QAAA,CAAAI,MAAA,GAAA8B,KAAA,IAAAG,KAAA;QACA,IAAAC,IAAA,GAAAH,QAAA,CAAAI,aAAA;QACA,KAAAvC,QAAA,CAAAC,EAAA,GAAAqC,IAAA,CAAArC,EAAA;QACA,KAAAS,GAAA,wBAAAV,QAAA,CAAAC,EAAA;MACA,OACA;QACA,IAAAiC,KAAA,GAAAC,QAAA,CAAAC,gBAAA;QACA,KAAA/B,SAAA,CAAAC,EAAA,GAAA4B,KAAA,IAAAG,KAAA;QACA,KAAAhC,SAAA,CAAAG,SAAA,GAAA0B,KAAA,IAAAG,KAAA;QACA,KAAAhC,SAAA,CAAAhB,IAAA,GAAA6C,KAAA,IAAAG,KAAA;QACA,KAAAhC,SAAA,CAAAI,MAAA,GAAAyB,KAAA,IAAAG,KAAA;QACA,IAAAC,IAAA,GAAAH,QAAA,CAAAI,aAAA;QACA,KAAAlC,SAAA,CAAAJ,EAAA,GAAAqC,IAAA,CAAArC,EAAA;QACA,KAAAI,SAAA,CAAAE,SAAA,QAAApB,aAAA,CAAAoB,SAAA;QACA,KAAAG,GAAA,0BAAAL,SAAA,CAAAJ,EAAA;MACA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}