{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport { defineComponent } from \"vue\";\nimport TitleComponent from \"@/components/TitleComponent.vue\";\nimport { AXIOS } from \"../../http-common\";\nexport default defineComponent({\n  components: {\n    TitleComponent\n  },\n  data() {\n    return {\n      title: 'Только для контроля доступа',\n      users: [],\n      classVisibleTable: '',\n      classVisibleForm: '',\n      newUser: {\n        id: '',\n        name: '',\n        password: '',\n        role: ''\n      },\n      newUserAdd: {\n        name: '',\n        password: '',\n        role: ''\n      }\n    };\n  },\n  methods: {\n    oppenForm() {\n      this.classVisibleForm = 'visible';\n      this.classVisibleTable = 'novisible';\n    },\n    deleteItem(itemId) {\n      AXIOS.delete(`/users/${itemId}`).then(response => {\n        console.log(response.data);\n        // Опционально обновить интерфейс, чтобы удалить удалённый элемент\n        this.standards = this.standards.filter(item => item.id !== itemId);\n      }).catch(error => {\n        console.error('Ошибка удаления элемента:', error);\n      });\n    },\n    submitForm(itemId) {\n      let selector = \"#\" + itemId;\n      let parent = document.querySelector(selector);\n      let array = parent.children;\n      this.user.name = array[1].children[1].value;\n      this.user.password = array[2].children[1].value;\n      this.user.role = array[3].children[1].value;\n      this.user.id = itemId;\n      AXIOS.put('/users/{$itemId}', this.user).then(response => {\n        console.log(response.data);\n        // дальнейшая обработка ответа\n        this.loadGreeting();\n      }).catch(error => {\n        console.error(error);\n        // обработка ошибок\n      });\n    },\n    loadGreeting() {\n      AXIOS.get('/users/all').then(response => {\n        this.$data.users = response.data;\n      }).catch(error => {\n        console.log('ERROR: ' + error.response.data);\n      });\n    },\n    submitFormAdd() {\n      AXIOS.post('/users/user', this.newUserAdd).then(response => {\n        console.log(response.data);\n        // дальнейшая обработка ответа\n        this.loadGreeting();\n      }).catch(error => {\n        console.error(error);\n        // обработка ошибок\n      });\n    }\n  },\n  mounted() {\n    this.loadGreeting();\n  }\n});","map":{"version":3,"names":["defineComponent","TitleComponent","AXIOS","components","data","title","users","classVisibleTable","classVisibleForm","newUser","id","name","password","role","newUserAdd","methods","oppenForm","deleteItem","itemId","delete","then","response","console","log","standards","filter","item","catch","error","submitForm","selector","parent","document","querySelector","array","children","user","value","put","loadGreeting","get","$data","submitFormAdd","post","mounted"],"sources":["src/views/SuperAdminView.vue"],"sourcesContent":["<template>\r\n  <div class=\"fon\">\r\n    <div>\r\n      <TitleComponent :title=\"title\"/>\r\n    </div>\r\n    <div class=\"box\">\r\n      <div class=\"form-style-5\">\r\n        <p><span class=\"number\">1</span> Добавление стандарта</p>\r\n        <form action=\"/api/standards/standard\" method=\"post\" class=\"fon\" @submit.prevent=\"submitFormAdd\" >\r\n          <input type=\"text\" name=\"title\" id=\"title\" placeholder=\"Логин пользователя\" v-model=\"newUserAdd.name\">\r\n          <input type=\"text\" name=\"designation\" placeholder=\"Пароль\" v-model=\"newUserAdd.password\">\r\n          <input type=\"text\" name=\"cipher\" placeholder=\"Роль\" v-model=\"newUserAdd.role\">\r\n          <input type=\"submit\" class=\"btn\" value=\"Добавить\">\r\n\r\n        </form>\r\n      </div>\r\n      <table class=\"table\">\r\n      <div class=\"table__head\"><tr>\r\n        <th class=\"table__head__cell\"><h3 class=\"widtMedium\">Пользователь</h3></th>\r\n        <th class=\"table__head__cell \"><h3 class=\"widthMedium\">Пароль</h3></th>\r\n        <th class=\"table__head__cell \"><h3 class=\"widthMedium\">Роль</h3></th>\r\n        <th class=\"table__head__cell \"><h3 class=\"widthMedium\">Действия</h3></th>\r\n      </tr>\r\n      </div>\r\n\r\n      <div class=\"table__content\">\r\n        <div v-for='item in users' :key=\"item.id\" class=\"table__content__item\">\r\n          <div :class=\"classVisibleTable\">\r\n            <tr>\r\n              <td class=\"table__content__item__text \"><h3 class=\"widthSmoll\">{{ item.name }}</h3></td>\r\n              <td class=\"table__content__item__text \"><h3 class=\"widthLarge\">{{ item.password }}</h3></td>\r\n              <td class=\"table__content__item__text \"><h3 class=\"widthSmoll\">{{ item.role }}</h3></td>\r\n              <td class=\"banner\">\r\n                <button @click=\"oppenForm\" :id=item.id class=\"banner__button\">\r\n                  <p class=\"banner__button__text\">Редактировать</p>\r\n                </button>\r\n                <button @click=\"deleteItem(item.id)\" class=\"banner__button\" type=\"button\"><p class=\"banner__button__text\">Удалить</p></button>\r\n              </td>\r\n            </tr>\r\n          </div>\r\n          <div :class=\"classVisibleForm\" >\r\n            <tr :id=\"item.id\">\r\n              <td class=\"table__content__item__text \"><input class=\"widthSmoll\" type=\"text\" name=\"name\" :value=\"item.name\"></td>\r\n              <td class=\"table__content__item__text \"><input class=\"widthSmoll\" type=\"text\" name=\"name\" :value=\"item.password\"></td>\r\n              <td class=\"table__content__item__text \"><input class=\"widthSmoll\" type=\"text\" name=\"name\" :value=\"item.role\"></td>\r\n              <td class=\"banner\">\r\n                <button @click=\"submitForm(item.id)\" class=\"banner__button\">\r\n                  <p class=\"banner__button__text\">Сохранить</p>\r\n                </button>\r\n\r\n              </td>\r\n            </tr>\r\n          </div>\r\n          <div>\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      </table>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n<script >\r\n\r\nimport {defineComponent} from \"vue\";\r\nimport TitleComponent from \"@/components/TitleComponent.vue\";\r\nimport {AXIOS} from \"../../http-common\";\r\n\r\nexport default defineComponent({\r\n  components: {TitleComponent},\r\n  data() {\r\n    return {\r\n      title: 'Только для контроля доступа',\r\n      users:[],\r\n      classVisibleTable:'',\r\n      classVisibleForm:'',\r\n      newUser:{\r\n        id:'',\r\n        name:'',\r\n        password:'',\r\n        role:''\r\n      },\r\n      newUserAdd:{\r\n        name:'',\r\n        password:'',\r\n        role:''\r\n      }\r\n    };\r\n  },\r\n  methods:{\r\n    oppenForm(){\r\n      this.classVisibleForm = 'visible';\r\n      this.classVisibleTable = 'novisible';\r\n    },\r\n    deleteItem(itemId){\r\n      AXIOS.delete(`/users/${itemId}`)\r\n          .then(response => {\r\n            console.log(response.data)\r\n            // Опционально обновить интерфейс, чтобы удалить удалённый элемент\r\n            this.standards = this.standards.filter(item => item.id !== itemId);\r\n          })\r\n          .catch(error => {\r\n            console.error('Ошибка удаления элемента:', error);\r\n          });\r\n    },\r\n    submitForm(itemId){\r\n      let selector = \"#\" + itemId\r\n      let parent = document.querySelector(selector);\r\n      let array = parent.children;\r\n      this.user.name = array[1].children[1].value;\r\n      this.user.password = array[2].children[1].value;\r\n      this.user.role = array[3].children[1].value;\r\n      this.user.id = itemId;\r\n      AXIOS.put('/users/{$itemId}', this.user)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            // дальнейшая обработка ответа\r\n            this.loadGreeting();\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            // обработка ошибок\r\n          });\r\n    },\r\n    loadGreeting() {\r\n      AXIOS.get('/users/all')\r\n          .then(response => {\r\n            this.$data.users = response.data;\r\n\r\n          })\r\n          .catch(error => {\r\n            console.log('ERROR: ' + error.response.data);\r\n          })\r\n\r\n    },\r\n    submitFormAdd(){\r\n      AXIOS.post('/users/user', this.newUserAdd)\r\n          .then(response => {\r\n            console.log(response.data);\r\n            // дальнейшая обработка ответа\r\n            this.loadGreeting();\r\n          })\r\n          .catch(error => {\r\n            console.error(error);\r\n            // обработка ошибок\r\n          });\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    this.loadGreeting();\r\n  }\r\n})\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"@/assets/css-module/_vars.scss\";\r\n.visible{\r\n  display: block;\r\n}\r\n.novisible{\r\n  display: none;\r\n}\r\n.form-style-5{\r\n  max-width: 500px;\r\n  padding: 10px 20px;\r\n  background: #f4f7f8;\r\n  margin: 10px auto;\r\n  padding: 20px;\r\n  background: #f4f7f8;\r\n  border-radius: 8px;\r\n  //font-family: Georgia, \"Times New Roman\", Times, serif;\r\n}\r\n.form-style-5 p {\r\n  font-size: 1.4em;\r\n  margin-bottom: 10px;\r\n  color:$colorOther;\r\n}\r\n.form-style-5 input[type=\"text\"]{\r\n  //font-family: Georgia, \"Times New Roman\", Times, serif;\r\n  background: rgba(255,255,255,1);\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 15px;\r\n  margin: 0;\r\n  outline: 0;\r\n  padding: 10px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  -webkit-box-sizing: border-box;\r\n  -moz-box-sizing: border-box;\r\n  background-color: #e8eeef;\r\n  color:#8a97a0;\r\n  -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;\r\n  box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;\r\n  margin-bottom: 30px;\r\n}\r\n.form-style-5 input[type=\"text\"]:focus{\r\n  background: #d2d9dd;\r\n}\r\n.form-style-5 input[type=\"submit\"], button\r\n{\r\n  position: relative;\r\n  display: block;\r\n  padding: 19px 39px 18px 39px;\r\n  color: #FFF;\r\n  margin: 0 auto;\r\n  background: #1abc9c;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  font-style: normal;\r\n  width: 100%;\r\n  border: 1px solid #16a085;\r\n  border-width: 1px 1px 3px;\r\n  margin-bottom: 10px;\r\n}\r\n.form-style-5 input[type=\"submit\"]:hover\r\n{\r\n  background: #109177;\r\n\r\n}\r\n.form-style-5 button:hover\r\n{\r\n  background: #109177;\r\n\r\n}\r\n.fon{\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: $colorBack;\r\n}\r\ntable{\r\n  width:100%;\r\n\r\n}\r\nth, td{\r\n  border:2px solid $colorTitle\r\n}\r\n.widthSmoll{\r\n  width: 85px;\r\n}\r\n.widthMedium{\r\n  width: 150px;\r\n}\r\n.widthLarge{\r\n  width: 635px;\r\n}\r\n.table{\r\n  min-height: 700px;\r\n  &__head{\r\n    &__cell{\r\n      color: $colorTitle;\r\n      font-family: Lato;\r\n      font-size: 18px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: normal;\r\n      padding-left: 5px;\r\n      padding-right: 5px;\r\n      background-color: #614141;\r\n    }\r\n  }\r\n  &__content{\r\n    &__item{\r\n      &__text{\r\n        color: $colorTitle;\r\n        font-family: Lato;\r\n        font-size: 14px;\r\n        font-style: normal;\r\n        font-weight: 100;\r\n        line-height: normal;\r\n        padding-left: 5px;\r\n        padding-right: 5px;\r\n        background-color: #3A3535;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>"],"mappings":";;AAkEA,SAAAA,eAAA;AACA,OAAAC,cAAA;AACA,SAAAC,KAAA;AAEA,eAAAF,eAAA;EACAG,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,KAAA;MACAC,KAAA;MACAC,iBAAA;MACAC,gBAAA;MACAC,OAAA;QACAC,EAAA;QACAC,IAAA;QACAC,QAAA;QACAC,IAAA;MACA;MACAC,UAAA;QACAH,IAAA;QACAC,QAAA;QACAC,IAAA;MACA;IACA;EACA;EACAE,OAAA;IACAC,UAAA;MACA,KAAAR,gBAAA;MACA,KAAAD,iBAAA;IACA;IACAU,WAAAC,MAAA;MACAhB,KAAA,CAAAiB,MAAA,WAAAD,MAAA,IACAE,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAjB,IAAA;QACA;QACA,KAAAoB,SAAA,QAAAA,SAAA,CAAAC,MAAA,CAAAC,IAAA,IAAAA,IAAA,CAAAhB,EAAA,KAAAQ,MAAA;MACA,GACAS,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAM,KAAA,8BAAAA,KAAA;MACA;IACA;IACAC,WAAAX,MAAA;MACA,IAAAY,QAAA,SAAAZ,MAAA;MACA,IAAAa,MAAA,GAAAC,QAAA,CAAAC,aAAA,CAAAH,QAAA;MACA,IAAAI,KAAA,GAAAH,MAAA,CAAAI,QAAA;MACA,KAAAC,IAAA,CAAAzB,IAAA,GAAAuB,KAAA,IAAAC,QAAA,IAAAE,KAAA;MACA,KAAAD,IAAA,CAAAxB,QAAA,GAAAsB,KAAA,IAAAC,QAAA,IAAAE,KAAA;MACA,KAAAD,IAAA,CAAAvB,IAAA,GAAAqB,KAAA,IAAAC,QAAA,IAAAE,KAAA;MACA,KAAAD,IAAA,CAAA1B,EAAA,GAAAQ,MAAA;MACAhB,KAAA,CAAAoC,GAAA,0BAAAF,IAAA,EACAhB,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAjB,IAAA;QACA;QACA,KAAAmC,YAAA;MACA,GACAZ,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAM,KAAA,CAAAA,KAAA;QACA;MACA;IACA;IACAW,aAAA;MACArC,KAAA,CAAAsC,GAAA,eACApB,IAAA,CAAAC,QAAA;QACA,KAAAoB,KAAA,CAAAnC,KAAA,GAAAe,QAAA,CAAAjB,IAAA;MAEA,GACAuB,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAC,GAAA,aAAAK,KAAA,CAAAP,QAAA,CAAAjB,IAAA;MACA;IAEA;IACAsC,cAAA;MACAxC,KAAA,CAAAyC,IAAA,qBAAA7B,UAAA,EACAM,IAAA,CAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,QAAA,CAAAjB,IAAA;QACA;QACA,KAAAmC,YAAA;MACA,GACAZ,KAAA,CAAAC,KAAA;QACAN,OAAA,CAAAM,KAAA,CAAAA,KAAA;QACA;MACA;IACA;EAEA;EACAgB,QAAA;IACA,KAAAL,YAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}