"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[961],{7342:function(t,a,e){e.r(a),e.d(a,{default:function(){return C}});var s=function(){var t=this,a=t._self._c;return a("div",[a("ModalComponent",{directives:[{name:"show",rawName:"v-show",value:t.isShowModal,expression:"isShowModal"}],attrs:{show:t.isShowModal,scrollable:!0,"header-id":"modalHeader","body-id":"modalBody",standardChose:t.standardChose},on:{close:t.toggleModal}}),a("table",{staticClass:"table"},[t._m(0),a("div",{staticClass:"table__content"},t._l(t.standards,(function(e){return a("div",{key:e.id,staticClass:"table__content__item"},[a("tr",[a("td",{staticClass:"table__content__item__text"},[a("h3",{staticClass:"widthSmoll"},[t._v(t._s(e.id))])]),a("td",{staticClass:"table__content__item__text"},[a("h3",{staticClass:"widthSmoll"},[t._v(t._s(e.cipher))])]),a("td",{staticClass:"table__content__item__text"},[a("h3",{staticClass:"widthLarge"},[t._v(t._s(e.designation))])]),a("td",{staticClass:"table__content__item__text"},[a("h3",{staticClass:"widthSmoll"},[t._v(t._s(e.title))])]),a("button",{attrs:{id:e.id},on:{click:t.toggleModal}},[t._v(" Редактировать ")]),a("p",[t._v(t._s(t.standardChose))]),a("button",{attrs:{type:"button"}},[t._v("Удалить")])])])})),0)])],1)},l=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"table__head"},[a("tr",[a("th",{staticClass:"table__head__cell"},[a("h3",{staticClass:"widthSmoll"},[t._v("Шифр")])]),a("th",{staticClass:"table__head__cell"},[a("h3",{staticClass:"widthLarge"},[t._v("Обозначение")])]),a("th",{staticClass:"table__head__cell"},[a("h3",{staticClass:"widthSmoll"}),t._v("Наименование")])])])}],o=function(){var t=this,a=t._self._c;return a("transition",{attrs:{name:t.modalClass}},[a("div",{class:t.modalClass},[a("div",{class:`${t.modalClass}-backdrop`,on:{click:t.closeModal}},[a("div",{class:[{"simple-modal-scrollable":t.scrollable},`${t.modalClass}-container`]},[a("div",{class:`${t.modalClass}-content`,attrs:{role:"dialog","aria-labelledby":t.headerId,"aria-describedby":t.bodyId},on:{click:function(t){t.stopPropagation()}}},[a("header",{class:`${t.modalClass}-header`,attrs:{id:t.headerId}},[t._t("header",(function(){return[t._v(" Редактирование стандарта ")]}),{id:t.bodyId})],2),a("section",{class:`${t.modalClass}-body`},[t._t("body",(function(){return[a("form",{staticClass:"fon",on:{submit:function(a){return a.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.standard.title,expression:"standard.title"}],attrs:{name:"title",placeholder:t.standardChose.title},domProps:{value:t.standard.title},on:{input:function(a){a.target.composing||t.$set(t.standard,"title",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.standard.designation,expression:"standard.designation"}],attrs:{name:"designation",placeholder:t.standardChose.designation},domProps:{value:t.standard.designation},on:{input:function(a){a.target.composing||t.$set(t.standard,"designation",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.standard.cipher,expression:"standard.cipher"}],attrs:{name:"cipher",placeholder:t.standardChose.cipher},domProps:{value:t.standard.cipher},on:{input:function(a){a.target.composing||t.$set(t.standard,"cipher",a.target.value)}}}),a("input",{staticClass:"btn",attrs:{type:"submit",value:"Добавить"}})])]}))],2),a("footer",{class:`${t.modalClass}-footer`},[t._t("footer"),a("button",{attrs:{type:"button"},on:{click:t.closeModal}},[t._v(" Close ")])],2)])])])])])},d=[],n=e(6342),i={name:"ModalComponent",props:{standardChose:{},show:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},headerId:{type:String,required:!0,default:null},bodyId:{type:String,required:!0,default:null},modalClass:{type:String,default:"simple-modal"}},data(){return{standard:{id:"",title:"",designation:"",cipher:""},url:""}},mounted(){window.addEventListener("keydown",this.escCloseModal)},destroy(){window.removeEventListener("keydown",this.escCloseModal)},methods:{closeModal(){this.$emit("close"),this.generateUrl()},escCloseModal(t){this.show&&"Escape"===t.key&&this.closeModal()},submitForm(){n.$.put(this.url,this.standard).then((t=>{console.log(t.data)})).catch((t=>{console.error(t)}))},generateUrl(){this.url="/standards/standard/"+this.standardChose.id}}},r=i,c=e(1656),h=(0,c.A)(r,o,d,!1,null,null,null),u=h.exports,_={name:"StandardComponent",components:{ModalComponent:u},data(){return{standards:[],isShowModal:!1,standardChose:""}},methods:{loadGreeting(){n.$.get("/standards/all").then((t=>{this.$data.standards=t.data})).catch((t=>{console.log("ERROR: "+t.response.data)}))},toggleModal(t){this.isShowModal=!this.isShowModal,this.standardChose=t.target.id}},mounted(){this.loadGreeting()}},m=_,p=(0,c.A)(m,s,l,!1,null,"cbe663fa",null),C=p.exports}}]);
//# sourceMappingURL=961.e9b282dc.js.map