"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[588],{4200:function(t,e,s){s.d(e,{A:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.title))])])},n=[],l={name:"TitleComponent",props:["title"]},i=l,r=s(1656),o=(0,r.A)(i,a,n,!1,null,"574db766",null),d=o.exports},9588:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"fon"},[e("TitleComponent",{attrs:{title:t.title}}),e("div",{staticClass:"box"},[e("div",{staticClass:"form-style-5"},[t._m(0),e("form",{staticClass:"fon",attrs:{action:"/api/standards/standard",method:"post"},on:{submit:function(e){return e.preventDefault(),t.submitFormAdd.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserAdd.name,expression:"newUserAdd.name"}],attrs:{type:"text",name:"title",id:"title",placeholder:"Логин пользователя"},domProps:{value:t.newUserAdd.name},on:{input:function(e){e.target.composing||t.$set(t.newUserAdd,"name",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserAdd.password,expression:"newUserAdd.password"}],attrs:{type:"text",name:"designation",placeholder:"Пароль"},domProps:{value:t.newUserAdd.password},on:{input:function(e){e.target.composing||t.$set(t.newUserAdd,"password",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserAdd.role,expression:"newUserAdd.role"}],attrs:{type:"text",name:"cipher",placeholder:"Роль"},domProps:{value:t.newUserAdd.role},on:{input:function(e){e.target.composing||t.$set(t.newUserAdd,"role",e.target.value)}}}),e("input",{staticClass:"btn",attrs:{type:"submit",value:"Добавить"}})])]),e("table",{staticClass:"table"},[t._m(1),e("div",{staticClass:"table__content"},t._l(t.users,(function(s){return e("div",{key:s.id,staticClass:"table__content__item"},[e("div",{class:t.classVisibleTable},[e("tr",[e("td",{staticClass:"table__content__item__text"},[e("h3",{staticClass:"widthSmoll"},[t._v(t._s(s.name))])]),e("td",{staticClass:"table__content__item__text"},[e("h3",{staticClass:"widthLarge"},[t._v(t._s(s.password))])]),e("td",{staticClass:"table__content__item__text"},[e("h3",{staticClass:"widthSmoll"},[t._v(t._s(s.role))])]),e("td",{staticClass:"banner"},[e("button",{staticClass:"banner__button",attrs:{id:s.id},on:{click:t.oppenForm}},[e("p",{staticClass:"banner__button__text"},[t._v("Редактировать")])]),e("button",{staticClass:"banner__button",attrs:{type:"button"},on:{click:function(e){return t.deleteItem(s.id)}}},[e("p",{staticClass:"banner__button__text"},[t._v("Удалить")])])])])]),e("div",{class:t.classVisibleForm},[e("tr",{attrs:{id:s.id}},[e("td",{staticClass:"table__content__item__text"},[e("input",{staticClass:"widthSmoll",attrs:{type:"text",name:"name"},domProps:{value:s.name}})]),e("td",{staticClass:"table__content__item__text"},[e("input",{staticClass:"widthSmoll",attrs:{type:"text",name:"name"},domProps:{value:s.password}})]),e("td",{staticClass:"table__content__item__text"},[e("input",{staticClass:"widthSmoll",attrs:{type:"text",name:"name"},domProps:{value:s.role}})]),e("td",{staticClass:"banner"},[e("button",{staticClass:"banner__button",on:{click:function(e){return t.submitForm(s.id)}}},[e("p",{staticClass:"banner__button__text"},[t._v("Сохранить")])])])])]),e("div")])})),0)])])],1)},n=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("p",[e("span",{staticClass:"number"},[t._v("1")]),t._v(" Добавление стандарта")])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"table__head"},[e("tr",[e("th",{staticClass:"table__head__cell"},[e("h3",{staticClass:"widtMedium"},[t._v("Пользователь")])]),e("th",{staticClass:"table__head__cell"},[e("h3",{staticClass:"widthMedium"},[t._v("Пароль")])]),e("th",{staticClass:"table__head__cell"},[e("h3",{staticClass:"widthMedium"},[t._v("Роль")])]),e("th",{staticClass:"table__head__cell"},[e("h3",{staticClass:"widthMedium"},[t._v("Действия")])])])])}],l=(s(492),s(2489),s(5471)),i=s(4200),r=s(6342),o=(0,l.pM)({components:{TitleComponent:i.A},data(){return{title:"Только для контроля доступа",users:[],classVisibleTable:"",classVisibleForm:"",newUser:{id:"",name:"",password:"",role:""},newUserAdd:{name:"",password:"",role:""}}},methods:{oppenForm(){this.classVisibleForm="visible",this.classVisibleTable="novisible"},deleteItem(t){r.$.delete(`/users/${t}`).then((e=>{console.log(e.data),this.standards=this.standards.filter((e=>e.id!==t))})).catch((t=>{console.error("Ошибка удаления элемента:",t)}))},submitForm(t){let e="#"+t,s=document.querySelector(e),a=s.children;this.user.name=a[1].children[1].value,this.user.password=a[2].children[1].value,this.user.role=a[3].children[1].value,this.user.id=t,r.$.put("/users/{$itemId}",this.user).then((t=>{console.log(t.data),this.loadGreeting()})).catch((t=>{console.error(t)}))},loadGreeting(){r.$.get("/users/all").then((t=>{this.$data.users=t.data})).catch((t=>{console.log("ERROR: "+t.response.data)}))},submitFormAdd(){r.$.post("/users/user",this.newUserAdd).then((t=>{console.log(t.data),this.loadGreeting()})).catch((t=>{console.error(t)}))}},mounted(){this.loadGreeting()}}),d=o,c=s(1656),_=(0,c.A)(d,a,n,!1,null,"d11a48e8",null),u=_.exports}}]);
//# sourceMappingURL=588.a3620816.js.map